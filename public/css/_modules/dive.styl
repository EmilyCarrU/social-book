.dive
	border-top: 1px solid $color-highlight
	border-bottom: 1px solid $color-highlight
	width: 100%
	height: auto
	max-height: auto
	background: $color-background
	&:after
		content: "" // 36px
		position: absolute
		right: 2em
		z-index: 10
		display: block
		float: left
		height: 0
		border: 0.25em solid transparent
		border-top-color: $color-highlight
		width: 0

.dive-wrapper
	display: block
	padding: 0
	width: 100%
	transition: max-height $default-transition-duration ease-in-out
	hardware-acceleration(true)

.dive--open,
.dive:focus,
.dive--tease
	box-shadow: none
	.dive--open > &,
	.dive:focus > &
		// max-height: $dive-comment-max-height
		max-height: 9999px
		hardware-acceleration(true)

.dive.dive--tease > .dive_wrapper
	max-height: 250em // needs extra .dive class for higher specificity, as .dive--open and .dive--tease will get applied

.dive-count
	font-size: 0.5em
	// test font-size-adjust with fallback fonts
	display: block
	float: right
	.dive--open &,
	.dive:focus &
		// Move to state?

.dive-icon
	display: block
	width: 0.75em
	height: 0.75em
	position: absolute
	right: 2em
	margin: 0
	border: 1px solid $color-highlight
	border-width: 3px 0 0 3px
	background: $color-background
	display: block
	transform: rotate(45deg)

.dive--open:after,
.dive:focus:after,
.dive--tease:after
	margin: 1px 0 0 0
	transform rotate(180deg)